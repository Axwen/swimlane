{"version":3,"file":"js/app.a1e7a142.js","mappings":"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","sources":["webpack://swimlane/./src/swimlane/matrix.js","webpack://swimlane/./src/swimlane/utils.js","webpack://swimlane/./src/swimlane/variables.js","webpack://swimlane/./src/swimlane/shape/title.js","webpack://swimlane/./src/swimlane/shape/content.js","webpack://swimlane/./src/swimlane/transfrom.js","webpack://swimlane/./src/swimlane/style.js","webpack://swimlane/./src/swimlane/index.js","webpack://swimlane/./src/App.vue","webpack://swimlane/./src/App.vue?3859","webpack://swimlane/./src/main.js","webpack://swimlane/webpack/bootstrap","webpack://swimlane/webpack/runtime/chunk loaded","webpack://swimlane/webpack/runtime/compat get default export","webpack://swimlane/webpack/runtime/define property getters","webpack://swimlane/webpack/runtime/global","webpack://swimlane/webpack/runtime/hasOwnProperty shorthand","webpack://swimlane/webpack/runtime/make namespace object","webpack://swimlane/webpack/runtime/jsonp chunk loading","webpack://swimlane/webpack/startup"],"sourcesContent":["\n\nexport default class Matrix {\n    constructor(rows, cols) {\n        this.rows = rows;\n        this.cols = cols;\n        this.data = Array.from({ length: rows }, () => Array(cols).fill(null));\n    }\n\n    traverse(callback) {\n        for (let i = 0; i < this.rows; i++) {\n            for (let j = 0; j < this.cols; j++) {\n                callback(this.data[i][j], i, j);\n            }\n        }\n    }\n    flat() {\n        return this.data.flat()\n    }\n    sliceRow(start, end, flatten = false) {\n        if (start < 0 || end > this.rows) {\n            throw new Error('Invalid row index');\n        }\n        end = end || this.rows;\n        const data = this.data.slice(start, end)\n        return flatten ? data.flat() : data;\n    }\n    sliceCol(start, end, flatten = false) {\n        if (start < 0 || end > this.cols) {\n            throw new Error('Invalid row index');\n        }\n        end = end || this.cols;\n        const result = [];\n        const flattenResult = []\n        for (let i = 0; i < this.rows; i++) {\n            let row = []\n            for (let j = start; j < end; j++) {\n                const col = this.data[i][j]\n                row.push(col)\n                flattenResult.push(col);\n            }\n            result.push(row)\n        }\n        return flatten ? flattenResult : result\n    }\n\n    // 获取矩阵中的值\n    getValue(row, col) {\n        if (this.isValidIndex(row, col)) {\n            return this.data[row][col];\n        } else {\n            throw new Error('Invalid index');\n        }\n    }\n\n    // 设置矩阵中的值\n    setValue(row, col, value) {\n        if (this.isValidIndex(row, col)) {\n            this.data[row][col] = value;\n        } else {\n            throw new Error('Invalid index');\n        }\n    }\n\n    // 添加行\n    addRow(index, values = []) {\n        if (index > this.rows || 0 > index) {\n            throw new Error('Invalid row index');\n        }\n        if (values.length !== this.cols) {\n            throw new Error('Row length does not match the number of columns');\n        }\n        this.data.splice(index + 1, 0, values);\n        this.rows++;\n        this.updateRowIndexFrom(index)\n    }\n\n    // 删除行\n    removeRow(index) {\n        let removedItems = []\n        if (index >= 0 && index < this.rows) {\n            removedItems = this.data[index].flat()\n            this.data.splice(index, 1);\n            this.rows--;\n        } else {\n            throw new Error('Invalid row index');\n        }\n        this.updateRowIndexFrom(index - 1)\n        return removedItems\n    }\n\n\n    // 添加列\n    addColumn(index, values = []) {\n        if (index < 0 || index > this.cols) {\n            throw new Error('Invalid column index');\n        }\n\n        if (values.length !== this.rows) {\n            throw new Error('Column length does not match the number of rows');\n        }\n        for (let i = 0; i < this.rows; i++) {\n            this.data[i].splice(index + 1, 0, values[i]);\n        }\n        this.cols++;\n        this.updateColumnIndexFrom(index)\n    }\n\n    // 删除列\n    removeColumn(index) {\n        const removedItems = []\n        if (index >= 0 && index < this.cols) {\n            for (let i = 0; i < this.rows; i++) {\n                removedItems.push(this.data[i][index])\n                this.data[i].splice(index, 1);\n            }\n            this.cols--;\n        } else {\n            throw new Error('Invalid column index');\n        }\n        this.updateColumnIndexFrom(index - 1)\n        return removedItems\n    }\n\n    // 检查索引是否有效\n    isValidIndex(row, col) {\n        return row >= 0 && row < this.rows && col >= 0 && col < this.cols;\n    }\n    updateRowIndexFrom(startRow) {\n        if (startRow < 0 || startRow >= this.rows) {\n            throw new Error('Invalid start row index');\n        }\n        const baseRowItem = this.data[startRow]\n        let { y, height } = baseRowItem[0]\n        let startY = y + height\n        for (let i = startRow + 1; i < this.rows; i++) {\n            const row = this.data[i];\n            for (let j = 0; j < this.cols; j++) {\n                row[j]['index'] = [i, j]\n                row[j]['y'] = startY\n            }\n            const { height } = row[0]\n            startY += height\n        }\n    }\n    updateColumnIndexFrom(startCol) {\n        if (startCol < 0 || startCol >= this.cols) {\n            throw new Error('Invalid start column index');\n        }\n        for (let i = 0; i < this.rows; i++) {\n            const row = this.data[i][startCol]\n            const { x, width } = row\n            let startX = x + width;\n            for (let j = startCol + 1; j < this.cols; j++) {\n                const col = this.data[i][j];\n                this.data[i][j]['index'] = [i, j];\n                this.data[i][j]['x'] = startX;\n                const { width } = col\n                startX += width\n            }\n        }\n    }\n    // 批量更新某一行之后的所有行\n    updateRowFrom(startRow, values) {\n        if (startRow < 0 || startRow >= this.rows) {\n            throw new Error('Invalid start row index');\n        }\n        if (values.length !== this.cols) {\n            throw new Error('Values length does not match the number of columns');\n        }\n        for (let i = startRow; i < this.rows; i++) {\n            this.data[i] = [...values];\n        }\n    }\n\n    // 批量更新某一列之后的所有列\n    updateColumnFrom(startCol, values) {\n        if (startCol < 0 || startCol >= this.cols) {\n            throw new Error('Invalid start column index');\n        }\n        if (values.length !== this.rows) {\n            throw new Error('Values length does not match the number of rows');\n        }\n        for (let i = 0; i < this.rows; i++) {\n            for (let j = startCol; j < this.cols; j++) {\n                this.data[i][j] = values[i];\n            }\n        }\n    }\n}\n","/**\n * 生成 + 路径，适应给定矩形的宽高和描边宽度\n * @param {number} width - 矩形的宽度\n * @param {number} height - 矩形的高度\n * @param {number} strokeWidth - 描边宽度\n * @param {number} margin - 边距\n * @returns {string} - 十字形路径的 d 属性值\n */\n\n\nexport function getCrossPath({ width, height, strokeWidth, margin = 3 }) {\n\n    const horizontalLine = getLinePath({ width, height, strokeWidth, margin })\n    const verticalLine = getLinePath({ width, height, strokeWidth, margin }, false)\n    \n    return `${horizontalLine} ${verticalLine}`;\n}\n\n/**\n * 生成 - 路径，适应给定矩形的宽高和描边宽度\n * @param {number} width - 矩形的宽度\n * @param {number} height - 矩形的高度\n * @param {number} strokeWidth - 描边宽度\n * @param {number} margin - 边距\n * @returns {string} - 路径的 d 属性值\n */\nexport function getLinePath({ width, height, strokeWidth, margin = 3 }, isHorizontal = true) {\n    const size = Math.min(width, height) - 2 * margin - strokeWidth;\n    const offsetX = (width - size) / 2;\n    const offsetY = (height - size) / 2;\n\n    if (isHorizontal) {\n        const horizontalStartX = offsetX;\n        const horizontalStartY = offsetY + size / 2;\n        const horizontalEndX = offsetX + size;\n\n        return `M ${horizontalStartX} ${horizontalStartY} L ${horizontalEndX} ${horizontalStartY}`;\n    } else {\n\n        const verticalStartX = offsetX + size / 2;\n        const verticalStartY = offsetY;\n        const verticalEndY = offsetY + size;\n\n        return `M ${verticalStartX} ${verticalStartY} L ${verticalStartX} ${verticalEndY}`;\n    }\n\n}\n\n\n","export const fillColor = '#fff'\nexport const strokeColor = '#333'\nexport const strokeWidth = 1.5\nexport const labelColor = '#333'\n\nexport const swimLanePadding = 20\n\n\nexport const handerSize = 2\nexport const highlightHandlerSize = handerSize * 2\n\nexport const highlightColor = '#73d13d'\n\nexport const swimLaneBaseConfig = {\n    position: [100, 100],\n    sizes: [2, 2],\n    laneWidth: 300,\n    laneHeight: 300,\n    rowTitleHeight: 40,\n    columnTitleWidth: 100,\n}\n\n","\n\nimport { Graph, ObjectExt } from '@antv/x6'\nimport { Button } from '@antv/x6/es/registry/tool/button'\nimport { ElMessageBox } from 'element-plus'\n\nimport { getCrossPath, getLinePath } from '../utils'\nimport { fillColor, strokeColor, labelColor, strokeWidth } from '../variables'\n\nexport const BASE_LABEL = '请输入...'\n\nexport const ROW_HEIGHT = 300\nexport const COL_WIDTH = 100\n\nconst TITLE_BTN_WIDTH = 14\nconst TITLE_BTN_HEIGHT = 14\nconst RADIUS = 3\nconst MAIN_TITLE_LABEL_OFFSET = 8\n\nconst TITLE_BTN_RECT_ATTRS = {\n    width: TITLE_BTN_WIDTH,\n    height: TITLE_BTN_HEIGHT,\n    rx: RADIUS,\n    ry: RADIUS,\n    fill: fillColor,\n    stroke: strokeColor,\n    strokeWidth: strokeWidth,\n    cursor: 'pointer',\n}\n\nconst TITLE_BTN_ICON_ATTRS = {\n    fill: 'none',\n    stroke: strokeColor,\n    strokeWidth: strokeWidth,\n    pointerEvents: 'none',\n}\n\nfunction getTitleButtonToolMarkup(type) {\n    return [\n        {\n            tagName: 'rect',\n            selector: 'button',\n            attrs: TITLE_BTN_RECT_ATTRS,\n        },\n        {\n            tagName: 'path',\n            selector: 'icon',\n            attrs: {\n                ...TITLE_BTN_ICON_ATTRS,\n                d: type === 'add' ? getCrossPath(TITLE_BTN_RECT_ATTRS) : getLinePath(TITLE_BTN_RECT_ATTRS)\n            },\n        },\n    ]\n}\n\n\nconst addTitleButton = Button.define({\n    markup: getTitleButtonToolMarkup('add'),\n    onClick({ e, cell, view }) {\n        e.stopPropagation()\n        const { graph } = view\n        const { index } = cell.getData()\n        graph.swimlane.insert(index)\n    },\n});\n\nconst removeTitleButton = Button.define({\n    markup: getTitleButtonToolMarkup('remove'),\n    onClick({ e, cell, view }) {\n        e.stopPropagation()\n        const { graph } = view\n        const { index } = cell.getData()\n        const hasChildren = graph.swimlane.checkRowOrColHasChildren(index)\n        if (hasChildren) {\n            ElMessageBox.confirm('该泳道内存在内容，删除后会同步删除泳道内的内容，确认删除?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n\n                graph.swimlane.remove(index)\n            })\n            return\n        }\n        graph.swimlane.remove(index)\n    },\n})\n\nconst titleShape = {\n    inherit: 'rect',\n    attrs: {\n        body: {\n            strokeWidth: strokeWidth,\n            stroke: strokeColor,\n            fill: fillColor,\n        },\n        label: {\n            fontWeight: 'bold',\n            fill: labelColor,\n        }\n    },\n    propHooks(metadata) {\n        let { mainTitle, blank, ...others } = metadata\n        if (mainTitle) {\n            ObjectExt.setByPath(others, 'attrs/label/textAnchor', 'start')\n            ObjectExt.setByPath(others, 'attrs/label/refX', MAIN_TITLE_LABEL_OFFSET)\n        }\n        if (blank) {\n            ObjectExt.setByPath(others, 'tools', [])\n            ObjectExt.setByPath(others, 'attrs/text/text', '')\n        }\n\n        ObjectExt.setByPath(others, 'subTitle', !mainTitle && !blank)\n\n        return {\n            ...others\n        }\n    },\n    tools: [\n        {\n            name: 'node-editor',\n            args: {\n                attrs: {\n                    color: '#999',\n                    backgroundColor: 'transparent',\n                },\n            },\n        },\n    ],\n}\n\nfunction isSwimLaneSubTitle(node) {\n    return node.shape === 'swimlane-title' && node.prop('subTitle')\n}\n\nfunction addTitleTools(node, graph) {\n    const { swimlane: { matrix, options: { sizes } } } = graph\n    const { index: [rowIndex] } = node.getData() || {}\n    const isRowTitle = rowIndex === 0\n    const tools = [{\n        name: 'title-add',\n        args: {\n            x: '100%',\n            y: '100%',\n            offset: { x: -20, y: -20 },\n        },\n    }]\n\n    // rowTitle增加列 colTitle增加行\n    const size = isRowTitle ? matrix.cols : matrix.rows\n    const minSize = isRowTitle ? sizes[0] : sizes[1]\n    if (size - 1 > minSize) {\n        tools.push({\n            name: 'title-remove',\n            args: {\n                x: '100%',\n                y: '100%',\n                offset: { x: -38, y: -20 },\n            }\n        })\n    }\n    node.addTools(tools, { ignoreHistory: true })\n}\n\nfunction removeTitleTools(node) {\n    node.removeTool('title-add', { ignoreHistory: true })\n    node.removeTool('title-remove', { ignoreHistory: true })\n}\n\n\nfunction registrySwimlaneTitle() {\n    Graph.registerNode('swimlane-title', titleShape, true)\n    Graph.registerNodeTool('title-add', addTitleButton, true)\n    Graph.registerNodeTool('title-remove', removeTitleButton, true)\n}\n\nfunction titleMouseenter({ node, view }) {\n    const { graph, tools } = view\n    const editorActive = tools?.tools?.some(item => item.editor)\n    if (!editorActive && isSwimLaneSubTitle(node)) {\n        addTitleTools(node, graph)\n    }\n}\n\nfunction titleMouseleave({ node, view }) {\n    const { tools } = view\n    const editorActive = tools?.tools?.some(item => item.editor)\n    if (!editorActive && isSwimLaneSubTitle(node)) {\n        removeTitleTools(node)\n    }\n}\n\nfunction bindTitleEvent(graph) {\n    graph.on('node:mouseenter', titleMouseenter)\n    graph.on('node:mouseleave', titleMouseleave)\n}\nfunction unbindTitleEvent(graph) {\n    graph.off('node:mouseenter', titleMouseenter)\n    graph.off('node:mouseleave', titleMouseleave)\n}\n\nexport {\n    registrySwimlaneTitle,\n    bindTitleEvent,\n    unbindTitleEvent\n}\n\n","import { Graph } from '@antv/x6'\n\nimport { fillColor, strokeWidth } from '../variables'\n\nconst contentShape = {\n    inherit: 'rect',\n    attrs: {\n        body: {\n            strokeWidth: strokeWidth,\n            fill: fillColor,\n        },\n    }\n}\n\n\nfunction registrySwimlaneContent() {\n    Graph.registerNode('swimlane-content', contentShape, true)\n}\n\nexport {\n    registrySwimlaneContent\n}","import { View, Dom, FunctionExt } from '@antv/x6'\nimport { swimLaneBaseConfig, swimLanePadding } from './variables'\n\nconst {\n    laneWidth,\n    laneHeight,\n    rowTitleHeight: minRowSize,\n    columnTitleWidth: minColSize,\n} = swimLaneBaseConfig\n\nconst documentEvents = {\n    mousemove: 'onMouseMove',\n    touchmove: 'onMouseMove',\n    mouseup: 'onMouseUp',\n    touchend: 'onMouseUp',\n}\n\nexport class TransfromImpl extends View {\n    constructor(options) {\n        super()\n        const { graph, ...others } = options\n        this.graph = graph\n        this.options = { ...others }\n        this.render()\n        this.startListening()\n    }\n    get containerClassName() {\n        return this.prefixClassName('swimlane-transform')\n    }\n    get contentClassName() {\n        return `${this.containerClassName}-content`\n    }\n    get handlerClassName() {\n        return `${this.containerClassName}-handler`\n    }\n    get swimlane() {\n        return this.graph.swimlane\n    }\n    get matrix() {\n        return this.swimlane.matrix\n    }\n    render() {\n        this.initContainer()\n        this.updateTransform()\n    }\n    initContainer() {\n        const container = this.container = Dom.createElement('div')\n        const content = this.content = Dom.createElement('div')\n        Dom.addClass(container, this.containerClassName)\n        Dom.addClass(content, this.contentClassName)\n        Dom.append(container, content)\n        Dom.append(this.graph.container, this.container)\n    }\n    updateHandlers() {\n        Dom.empty(this.content)\n        Dom.append(this.content, this.createHandlers())\n    }\n    createHorizontalHandlers() {\n        const { matrix: { data, rows } } = this\n        const handers = []\n        let top = 0\n        for (let i = 0; i < rows; i++) {\n            const row = data[i]\n            const { height } = row[0]\n            const handler = Dom.createElement('div')\n            Dom.addClass(handler, this.handlerClassName)\n            Dom.attr(handler, 'data-dir', 'horizontal')\n            Dom.attr(handler, 'data-index', i)\n            top = i === 0 ? height : top + height\n            Dom.css(handler, { top })\n            handers.push(handler)\n        }\n        return handers\n    }\n    createVerticalHandlers() {\n        const { matrix: { data, cols } } = this\n        const handers = []\n        const firstCols = data[0]\n        let left = 0\n        for (let j = 0; j < cols; j++) {\n            const col = firstCols[j]\n            const { width } = col\n            const handler = Dom.createElement('div')\n            Dom.addClass(handler, this.handlerClassName)\n            Dom.attr(handler, 'data-dir', 'vertical')\n            Dom.attr(handler, 'data-index', j)\n            left = j == 0 ? width : left + width\n            Dom.css(handler, { left })\n            handers.push(handler)\n        }\n        return handers\n    }\n    createHandlers() {\n        const horizontalHandlers = this.createHorizontalHandlers()\n        const verticalHandlers = this.createVerticalHandlers()\n        return horizontalHandlers.concat(verticalHandlers)\n    }\n    updateTransform() {\n        this.updateContainer()\n        this.updateHandlers()\n    }\n    updateContainer() {\n        const ctm = this.graph.matrix()\n        const bbox = this.swimlane.getBBox()\n        bbox.x *= ctm.a\n        bbox.x += ctm.e\n        bbox.y *= ctm.d\n        bbox.y += ctm.f\n        Dom.css(this.container, {\n            width: bbox.width,\n            height: bbox.height,\n            transform: `scale3d(${ctm.a},${ctm.d},1)`,\n            left: bbox.x,\n            top: bbox.y,\n        })\n    }\n    startListening() {\n        const { graph, updateTransform, updateContainer } = this\n        graph.on('translate', updateContainer, this)\n        graph.on('scale', updateContainer, this)\n        graph.on('swimlane:rendered', updateTransform, this)\n        graph.on('history:undo', updateTransform, this)\n        graph.on('history:redo', updateTransform, this)\n        this.delegateEvents({\n            [`mousedown .${this.handlerClassName}`]: 'startResizing',\n            [`touchstart .${this.handlerClassName}`]: 'startResizing',\n        })\n        this.delegateDocumentEvents(documentEvents)\n    }\n    stopListening() {\n        const { graph, updateTransform, updateContainer } = this\n        graph.off('translate', updateContainer, this)\n        graph.off('scale', updateContainer, this)\n        graph.off('swimlane:rendered', updateContainer, this)\n        graph.off('history:undo', updateTransform, this)\n        graph.off('history:redo', updateTransform, this)\n        this.undelegateEvents()\n        this.undelegateDocumentEvents()\n    }\n    startResizing(e) {\n        this.startHandler(e.target)\n        this.graph.view.undelegateEvents()\n    }\n    onMouseMove = FunctionExt.throttle((e) => {\n        if (!this.handler) {\n            return\n        }\n        const evt = this.normalizeEvent(e)\n        let clientX = evt.clientX\n        let clientY = evt.clientY\n        const { target, origin, dir, start, min, max } = this.handler\n        const pos = this.graph.clientToLocal(clientX, clientY)\n        const axis = dir === 'vertical' ? 'x' : 'y'\n        const positionKey = dir === 'vertical' ? 'left' : 'top'\n        const offset = pos[axis] - origin[axis] - start\n        let position = start + offset\n        position = Math.min(position, max)\n        position = Math.max(position, min)\n        Dom.css(target, {\n            [positionKey]: position\n        })\n        this.handler.offset = position - start\n    }, 16)\n    onMouseUp() {\n        if (!this.handler) {\n            return\n        }\n        if (this.handler.offset) {\n            this.resize()\n        }\n        this.updateContainer()\n        this.stopHandler()\n        this.graph.view.delegateEvents()\n    }\n    getMovableRange(dir, index) {\n        const { graph, matrix, swimlane } = this\n        const { x: originX, y: originY } = swimlane.getBBox()\n        let swimLaneItems = []\n        const currentChildren = []\n        const swimLaneNodes = []\n        index = Number(index)\n        const nextIndex = index + 1\n        if (dir === 'vertical') {\n            swimLaneItems = matrix.sliceCol(index, nextIndex, true)\n        } else {\n            swimLaneItems = matrix.sliceRow(index, index + 1, true)\n        }\n        swimLaneItems.forEach(item => {\n            const { id } = item\n            const node = this.graph.getCellById(id)\n            const children = node.getChildren() || []\n            swimLaneNodes.push(node)\n            currentChildren.push(...children)\n        })\n\n        const { top, bottom, left, right } = graph.getCellsBBox(swimLaneNodes)\n\n        let min = 0\n        let max = 0\n        if (dir === 'vertical') {\n            min = left - originX + minColSize\n            max = right - originX + laneWidth\n        } else {\n            min = top - originY + minRowSize\n            max = bottom - originY + laneHeight\n        }\n        if (currentChildren.length > 0) {\n            const { right, bottom } = graph.getCellsBBox(currentChildren)\n            min = (dir === 'vertical' ? right - originX : bottom - originY) + swimLanePadding\n        }\n        return {\n            min,\n            max\n        }\n    }\n    startHandler(handler) {\n        const dir = Dom.attr(handler, 'data-dir')\n        const index = Dom.attr(handler, 'data-index')\n        const { min, max } = this.getMovableRange(dir, index)\n        const start = parseInt(Dom.getComputedStyle(handler, dir === 'vertical' ? 'left' : 'top'))\n        const bbox = this.swimlane.getBBox()\n        this.handler = {\n            start,\n            origin: {\n                x: bbox.x,\n                y: bbox.y\n            },\n            target: handler,\n            dir,\n            index,\n            min,\n            max\n        } || null\n        Dom.addClass(handler, `${this.handlerClassName}--active`)\n        Dom.addClass(this.container, `${this.containerClassName}-cursor-${dir}`)\n    }\n    stopHandler() {\n        const { target: handler, dir } = this.handler\n        Dom.removeClass(handler, `${this.handlerClassName}--active`)\n        Dom.removeClass(this.container, `${this.containerClassName}-cursor-${dir}`)\n        this.handler = null\n    }\n    resize() {\n        const { dir, index, offset } = this.handler\n        const type = dir === 'vertical' ? 'col' : 'row'\n        this.swimlane.resize({\n            type,\n            index,\n            offset\n        })\n    }\n    dispose() {\n        this.stopListening()\n        this.container.remove()\n    }\n}","import {  highlightColor, handerSize } from './variables'\n\nexport const content = `\n    .x6-swimlane-transform {\n        position: absolute;\n        box-sizing: content-box !important;\n        margin: -1px;\n        padding-right:600px;\n        padding-bottom:600px;\n        transform-origin: top left;\n        user-select: none;\n        pointer-events: none;\n    }\n    .x6-swimlane-transform-cursor-vertical{\n        user-select: auto;\n        pointer-events: auto;\n        cursor:col-resize;\n    }\n    .x6-swimlane-transform-cursor-horizontal{\n        user-select: auto;\n        pointer-events: auto;\n         cursor:row-resize;\n    }\n    .x6-swimlane-transform-cursor-vertical .x6-swimlane-transform-handler[data-dir=\"horizontal\"],\n    .x6-swimlane-transform-cursor-horizontal .x6-swimlane-transform-handler[data-dir=\"vertical\"]{\n        pointer-events: none;\n    }\n    .x6-swimlane-transform-content{\n        position: relative;\n        width:100%;\n        height:100%;\n    }\n    .x6-swimlane-transform-handler{\n        box-sizing: border-box !important;\n        position: absolute;\n        background-color: transparent;\n        transform-origin: center;\n        pointer-events: auto;\n        user-drag: none;\n        -webkit-user-drag: none;\n    }\n\n    .x6-swimlane-transform-handler[data-dir=\"horizontal\"]{\n        left:0;\n        width:100%;\n        height:${handerSize}px;\n        transform:scale(0.98,1);\n        cursor:row-resize;\n    }\n    .x6-swimlane-transform-handler[data-dir=\"vertical\"]{\n        top:0;\n        width:${handerSize}px;\n        height:100%;\n        transform:scale(1,0.98);\n        cursor:col-resize;\n    }\n    .x6-swimlane-transform-handler:hover,\n    .x6-swimlane-transform-handler--active{\n        background-color: ${highlightColor}; \n    }\n    .x6-swimlane-transform-handler[data-dir=\"vertical\"]:hover,\n    .x6-swimlane-transform-handler--active[data-dir=\"vertical\"]{\n       transform:scale(1.6,0.98);\n    }\n    .x6-swimlane-transform-handler[data-dir=\"horizontal\"]:hover,\n    .x6-swimlane-transform-handler--active[data-dir=\"horizontal\"]{\n        transform:scale(0.98,1.6);\n    }\n`","import { Basecoat, CssLoader } from '@antv/x6'\n\nimport Matrix from './matrix'\nimport { registrySwimlaneTitle, bindTitleEvent, unbindTitleEvent, BASE_LABEL } from './shape/title'\nimport { registrySwimlaneContent } from './shape/content'\nimport { TransfromImpl } from './transfrom'\nimport { swimLaneBaseConfig, swimLanePadding, highlightColor } from './variables'\nimport { content } from './style'\n\nregistrySwimlaneTitle()\nregistrySwimlaneContent()\n\nfunction genSwimLaneItemBBox([i, j], options) {\n    const {\n        position: [originX, originY],\n        rowTitleHeight,\n        columnTitleWidth,\n        laneWidth,\n        laneHeight,\n    } = options\n    return {\n        x: j === 0 ? originX : originX + columnTitleWidth + laneWidth * (j - 1),\n        y: i === 0 ? originY : originY + rowTitleHeight + laneHeight * (i - 1),\n        width: j === 0 ? columnTitleWidth : laneWidth,\n        height: i === 0 ? rowTitleHeight : laneHeight\n    }\n}\nfunction genSwimLaneItemData(index, options, bbox) {\n    const [i, j] = index\n    let shape = 'swimlane-content';\n    let label = ''\n    if (i === 0 || j === 0) {\n        shape = 'swimlane-title'\n        label = BASE_LABEL\n    }\n    bbox = bbox || genSwimLaneItemBBox(index, options)\n    return {\n        shape,\n        blank: i === 0 && j === 0,\n        index,\n        zIndex: 0,\n        label,\n        ...bbox,\n    }\n}\n\n// 群组改变时，自动调整子节点 左侧超出就移动子节点 右侧超出就扩大\nfunction autoResizeSwimLane({ node, currentParent }) {\n    const { graph } = this\n    const selectedCells = graph.getSelectedCells?.() ?? []\n    if (selectedCells.length === 0) {\n        selectedCells.push(node)\n    }\n    const {\n        left,\n        top,\n        right,\n        bottom\n    } = graph.getCellsBBox(selectedCells)\n    const {\n        left: parentLeft,\n        top: parentTop,\n        right: parentRight,\n        bottom: parentBottom,\n    } = currentParent.getBBox()\n\n    const minX = parentLeft + swimLanePadding\n    const minY = parentTop + swimLanePadding\n    const maxX = parentRight - swimLanePadding\n    const maxY = parentBottom - swimLanePadding\n\n    let offetX = 0\n    let offsetY = 0\n    let resizeX = 0\n    let resizeY = 0\n    // 判断左侧是不是在父节点的内，不是的向右移动\n    if (left < minX) {\n        offetX = left - minX\n    }\n    if (top < minY) {\n        offsetY = top - minY\n    }\n\n    // 判断右侧是不是在父节点的内（包含移动后），不是的话 扩展节点宽度\n    const afterMoveChildrenMaxX = right - offetX\n    const afterMoveChildrenMaxY = bottom - offsetY\n    if (afterMoveChildrenMaxX > maxX) {\n        resizeX = afterMoveChildrenMaxX - maxX\n    }\n    if (afterMoveChildrenMaxY > maxY) {\n        resizeY = afterMoveChildrenMaxY - maxY\n    }\n    const { index: [rowIndex, colIndex] } = currentParent.getData()\n    graph.startBatch('batch-move-children')\n    if (offetX !== 0 || offsetY !== 0) {\n        selectedCells.forEach((cell) => {\n            if (!cell.getParent()) {\n                cell.setParent(currentParent)\n            }\n            cell.translate(-offetX, -offsetY)\n        })\n    }\n    if (resizeX) {\n        this.resize({ type: 'col', index: colIndex, offset: resizeX })\n    }\n    if (resizeY) {\n        this.resize({ type: 'row', index: rowIndex, offset: resizeY })\n    }\n    graph.isSelectionEmpty?.()\n    graph.stopBatch('batch-move-children')\n}\n\n\nexport class SwimLane extends Basecoat {\n    static embeddingHighlightConfig = {\n        name: 'stroke',\n        args: {\n            padding: -5,\n            attrs: {\n                stroke: highlightColor,\n            },\n        },\n    }\n    static isSwimLane({ view, node }) {\n        const shape = node ? node.shape : view ? view.cell.shape : ''\n        return shape.startsWith('swimlane')\n    }\n    static findParentSwimLane(nodes, currentNode) {\n        const bbox = currentNode.getBBox()\n        return nodes.filter((node) => {\n            if (node.shape === 'swimlane-content') {\n                const targetBBox = node.getBBox()\n                // return targetBBox.containsRect(bbox)\n                return bbox.isIntersectWithRect(targetBBox)\n            }\n            return false\n        })\n    }\n    // constructor(options) {\n    constructor() {\n        super()\n        this.name = 'swimlane'\n        this.activating = false\n        const { position: [x, y], rowTitleHeight, sizes } = swimLaneBaseConfig\n        this.sizes = sizes\n        // this.options = Object.assign({}, swimLaneBaseConfig, options)\n        this.options = Object.assign({}, swimLaneBaseConfig, {\n            // 主标题的position\n            origin: [x, y],\n            //初始化position的还需要放一个主标题，剩余内容从这个位置开始\n            position: [x, y + rowTitleHeight]\n        })\n        CssLoader.ensure(this.name, content)\n    }\n    init(graph) {\n        this.graph = graph\n        graph.swimlane = this\n        this.matrix = this.initMatrix()\n        this.renderData()\n        this.mainTitleNode = this.initMainTitle()\n        this.transfromImpl = new TransfromImpl({ graph })\n        this.bindEvents()\n    }\n    initMatrix() {\n        const { sizes } = this.options\n        const [rowSize, colSize] = sizes\n        const matrix = new Matrix(rowSize + 1, colSize + 1)\n        matrix.traverse((item, rowIndex, colIndex) => {\n            const itemData = genSwimLaneItemData([rowIndex, colIndex], this.options)\n            matrix.setValue(rowIndex, colIndex, itemData)\n        })\n        return matrix\n    }\n    initMainTitle() {\n        const { graph } = this\n        const { rowTitleHeight } = this.options\n        const { x, y, width } = this.getBBox()\n        return graph.addNode({\n            shape: 'swimlane-title',\n            mainTitle: true,\n            x: x,\n            y: y - rowTitleHeight,\n            width: width,\n            height: rowTitleHeight,\n            label: BASE_LABEL\n        })\n    }\n    updateMainTitle() {\n        if (!this.mainTitleNode) {\n            return\n        }\n        const { width } = this.getBBox()\n        const { height } = this.mainTitleNode.size()\n        this.mainTitleNode.size(width, height)\n    }\n\n    getBBox() {\n        const { graph, matrix, matrix: { rows, cols } } = this\n        const { id: firstId } = matrix.getValue(0, 0)\n        const { id: lastId } = matrix.getValue(rows - 1, cols - 1)\n        const firstNode = graph.getCellById(firstId)\n        const lastNode = graph.getCellById(lastId)\n        return graph.getCellsBBox([firstNode, lastNode])\n    }\n    checkRowOrColHasChildren([rowIndex, colIndex]) {\n        let items = []\n        if (rowIndex > 0 && rowIndex < this.matrix.rows) {\n            items = this.matrix.sliceRow(rowIndex, rowIndex + 1, true)\n        }\n        if (colIndex > 0 && colIndex < this.matrix.cols) {\n            items = this.matrix.sliceCol(colIndex, colIndex + 1, true)\n        }\n        return items.some(item => {\n            const cell = this.graph.getCellById(item.id)\n            return cell.children && cell.children.length > 0\n        })\n    }\n    genInsertData(type, index, length, data) {\n        const { laneWidth, laneHeight } = this.options\n        index += 1\n        let increment = 0\n        return Array(length).fill(null).map((item, itemIndex) => {\n            let newDataIndex = []\n            const bbox = {}\n            if (type === 'row') {\n                newDataIndex = [index, itemIndex]\n                const { x, y, width } = data[0][itemIndex]\n                if (itemIndex === 0) {\n                    increment = x\n                }\n                bbox.width = width\n                bbox.height = laneHeight\n                bbox.x = increment\n                bbox.y = y\n                increment += width\n            } else if (type === 'col') {\n                newDataIndex = [itemIndex, index]\n                const { x, y, height } = data[itemIndex][0]\n                if (itemIndex === 0) {\n                    increment = y\n                }\n                bbox.width = laneWidth\n                bbox.height = height\n                bbox.x = x\n                bbox.y = increment\n                increment += height\n            }\n            return genSwimLaneItemData(newDataIndex, this.options, bbox)\n        })\n    }\n    insert(dataIndex) {\n        const [rowIndex, colIndex] = dataIndex\n        const { matrix, matrix: { rows, cols } } = this\n        let length = 0\n        let type = ''\n        let index = 0\n        let current = []\n        if (rowIndex === 0) {\n            type = 'col'\n            index = colIndex\n            length = rows\n            current = matrix.sliceCol(colIndex, colIndex + 1)\n        } else if (colIndex === 0) {\n            type = 'row'\n            index = rowIndex\n            length = cols\n            current = matrix.sliceRow(rowIndex, rowIndex + 1)\n        }\n        const data = this.genInsertData(type, index, length, current)\n        if (type === 'row') {\n            matrix.addRow(index, data)\n        } else if (type === 'col') {\n            matrix.addColumn(index, data)\n        }\n        this.renderData({ type, index })\n    }\n    remove(dataIndex) {\n        const [rowIndex, colIndex] = dataIndex\n        let type = ''\n        let index = 0\n        if (rowIndex === 0) {\n            type = 'col'\n            index = colIndex\n        } else if (colIndex === 0) {\n            type = 'row'\n            index = rowIndex\n        }\n        let removedDatas = []\n        if (type === 'row') {\n            removedDatas = this.matrix.removeRow(index)\n        } else if (type === 'col') {\n            removedDatas = this.matrix.removeColumn(index)\n        }\n        this.renderData({ type, index, removedDatas })\n    }\n    resize({ type, index, offset }) {\n        let needUpdateData = []\n        if (type === 'row') {\n            this.matrix.sliceRow(index).forEach((row, rowIndex) => {\n                row.forEach((col) => {\n                    if (rowIndex === 0) {\n                        col.height += offset\n                    } else {\n                        col.y += offset\n                    }\n                    needUpdateData.push(col)\n                })\n            })\n        } else if (type === 'col') {\n            this.matrix.sliceCol(index).forEach((row) => {\n                row.forEach((col, colIndex) => {\n                    if (colIndex === 0) {\n                        col.width += offset\n                    } else {\n                        col.x += offset\n                    }\n                    needUpdateData.push(col)\n                })\n            })\n        }\n        this.renderData({ type, index, updatedDatas: needUpdateData })\n    }\n    renderData({ type, index, updatedDatas, removedDatas } = {}) {\n        const { rows, cols } = this.matrix\n        if (!Array.isArray(updatedDatas) || updatedDatas.length === 0) {\n            if (type === 'row') {\n                updatedDatas = this.matrix.sliceRow(index, rows, true)\n            } else if (type === 'col') {\n                updatedDatas = this.matrix.sliceCol(index, cols, true)\n            } else {\n                updatedDatas = this.matrix.flat()\n            }\n        }\n\n        const { graph, matrix } = this\n\n        graph.startBatch('render-data')\n        if (removedDatas && removedDatas.length > 0) {\n            removedDatas.forEach(item => {\n                const { id } = item\n                if (id) {\n                    const node = graph.getCellById(id)\n                    const children = node.getChildren()\n                    if (children && children.length > 0) {\n                        children.forEach(child => {\n                            node.remove(child)\n                        })\n                    }\n                    graph.removeNode(node)\n                }\n            })\n        }\n        if (updatedDatas && updatedDatas.length > 0) {\n            updatedDatas.forEach((item) => {\n                const { id, index, x, y, width, height } = item\n                if (id) {\n                    const node = graph.getCellById(id)\n                    const children = node.getChildren()\n                    if (children && children.length > 0) {\n                        children.forEach(child => {\n                            const relativePos = child.position({ relative: true })\n                            child.position(x + relativePos.x, y + relativePos.y)\n                        })\n                    }\n                    node.resize(width, height)\n                    node.position(x, y)\n                    node.updateData({ index })\n                } else {\n                    const { index, ...other } = item\n                    const node = graph.addNode({\n                        ...other,\n                        data: item\n                    })\n                    // node.attr('text/text', node.id.substring(0, 4))\n                    matrix.setValue(...index, {\n                        ...item,\n                        id: node.id\n                    })\n                }\n\n            })\n        }\n        this.updateMainTitle()\n        graph.stopBatch('render-data')\n        graph.emit('swimlane:rendered', { matrix })\n    }\n    bindEvents() {\n        const { graph } = this\n        graph.on('node:embedded', autoResizeSwimLane, this)\n        bindTitleEvent(graph)\n    }\n    unbindEvents() {\n        const { graph } = this\n        graph.off('node:embedded', autoResizeSwimLane, this)\n        unbindTitleEvent(graph)\n    }\n    setData() { }\n    dispose() {\n        this.transfromImpl.dispose()\n        this.unbindEvents()\n        CssLoader.clean(this.name)\n    }\n}","<script setup>\nimport { ref, onMounted } from 'vue'\nimport { Graph } from '@antv/x6'\nimport { Dnd } from '@antv/x6-plugin-dnd'\n// import { Selection } from '@antv/x6-plugin-selection'\n// import { History } from '@antv/x6-plugin-history'\nimport { SwimLane } from './swimlane'\nimport data from './data.json'\n\nconsole.log(data)\nconst container = ref()\nconst dndContainer = ref()\n\nlet graph = null\nlet dnd = null\n\nconst testNode = {\n  width: 100,\n  height: 40,\n  label: 'Rect',\n  attrs: {\n    body: {\n      stroke: '#8f8f8f',\n      strokeWidth: 1,\n    },\n  },\n}\n\nfunction handleStartDrag(e) {\n  // const target = e.target\n  // const type = target.getAttribute('data-type')\n  const node = graph.createNode(testNode)\n  dnd.start(node, e)\n}\nfunction exportGraphToJson() {\n  // 获取图的 JSON 数据\n  const jsonData = graph.toJSON();\n\n  // 将 JSON 数据转换为字符串\n  const jsonString = JSON.stringify(jsonData, null, 2);\n\n  // 创建 Blob 对象\n  const blob = new Blob([jsonString], { type: 'application/json' });\n\n  // 创建一个链接元素\n  const a = document.createElement('a');\n  a.href = URL.createObjectURL(blob);\n  a.download = 'graph-data.json'; // 下载的文件名\n\n  // 触发下载\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n}\n\nonMounted(() => {\n\n  window.__x6_instances__ = []\n\n  graph = new Graph({\n    container: container.value,\n    autoResize: true,\n    grid: true,\n    panning: true,\n    mousewheel: {\n      enabled: true,\n      global: true,\n      modifiers: ['ctrl', 'meta'],\n    },\n    interacting: {\n      nodeMovable(view) {\n        return !SwimLane.isSwimLane({ view })\n      },\n    },\n    embedding: {\n      enabled: true,\n      findParent({ node }) {\n        const nodes = this.getNodes()\n        return SwimLane.findParentSwimLane(nodes, node)\n      },\n    },\n    highlighting: {\n      embedding: SwimLane.embeddingHighlightConfig\n    },\n  })\n\n  window.graph = graph\n\n  // graph.use(new Selection({\n  //   enabled: true,\n  //   multiple: true,\n  //   movable: true,\n  //   rubberband: true,\n  //   showNodeSelectionBox: true,\n  //   modifiers: ['shift'],\n  //   filter: (node) => {\n  //     return !SwimLane.isSwimLane({ node })\n  //   },\n  // }))\n\n  dnd = new Dnd({\n    scaled: false,\n    target: graph,\n    dndContainer: dndContainer.value,\n  })\n  graph.use(dnd)\n\n  graph.use(new SwimLane())\n\n  // graph.use(\n  //   new History({\n  //     enabled: true,\n  //     beforeAddCommand(event, args) {\n  //       // 忽略历史变更\n  //       if (args.options.ignoreHistory) {\n  //         return false\n  //       }\n  //     },\n  //   }),\n  // )\n\n  graph.addNode({\n    x: 100,\n    y: 20,\n    ...testNode\n  })\n  graph.addNode({\n    x: 200,\n    y: 20,\n    ...testNode\n  })\n  graph.addNode({\n    x: 100,\n    y: 60,\n    ...testNode\n  })\n  graph.addNode({\n    x: 200,\n    y: 60,\n    ...testNode\n  })\n\n  // setTimeout(() => {\n  //   graph.centerContent()\n  // }, 1000)\n  // graph.fromJSON(data)\n\n  window.__x6_instances__.push(graph)\n})\n// function handleUndo() {\n//   graph.undo()\n// }\n// function handleRedo() {\n//   graph.redo()\n// }\n\n</script>\n\n<template>\n  <div class=\"x6-app\">\n    <div class=\"dnd\" ref=\"dndContainer\">\n      <!-- <button @click=\"handleUndo\">撤销</button>\n      <button @click=\"handleRedo\">重做</button> -->\n      <button @click=\"exportGraphToJson\">下载json</button>\n      <div data-type=\"rect\" class=\"rect\" @mousedown=\"handleStartDrag\">rect</div>\n    </div>\n    <div class=\"container\">\n      <div ref=\"container\"></div>\n    </div>\n\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n.x6-app {\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  .dnd {\n    box-sizing: border-box;\n    width: 200px;\n    flex: 0 0 240px;\n    padding: 20px;\n    border-right: 2px solid #666;\n\n    .rect {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      background: #fff;\n      width: 40px;\n      height: 40px;\n      border: 2px solid #666;\n      cursor: pointer;\n    }\n  }\n\n  .container {\n    flex: 1;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    background: #fff;\n  }\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=5a91b991&lang=scss&scoped=true\"\n\nimport exportComponent from \"../node_modules/.pnpm/vue-loader@17.4.2_@vue+compiler-sfc@3.4.38_vue@3.4.38_webpack@5.94.0/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a91b991\"]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport './style.css'\nimport App from './App.vue'\nimport 'element-plus/dist/index.css'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkswimlane\"] = self[\"webpackChunkswimlane\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(5256); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["Matrix","constructor","rows","cols","this","data","Array","from","length","fill","traverse","callback","i","j","flat","sliceRow","start","end","flatten","Error","slice","sliceCol","result","flattenResult","row","col","push","getValue","isValidIndex","setValue","value","addRow","index","values","splice","updateRowIndexFrom","removeRow","removedItems","addColumn","updateColumnIndexFrom","removeColumn","startRow","baseRowItem","y","height","startY","startCol","x","width","startX","updateRowFrom","updateColumnFrom","getCrossPath","strokeWidth","margin","horizontalLine","getLinePath","verticalLine","isHorizontal","size","Math","min","offsetX","offsetY","horizontalStartX","horizontalStartY","horizontalEndX","verticalStartX","verticalStartY","verticalEndY","fillColor","strokeColor","labelColor","swimLanePadding","handerSize","highlightColor","swimLaneBaseConfig","position","sizes","laneWidth","laneHeight","rowTitleHeight","columnTitleWidth","BASE_LABEL","TITLE_BTN_WIDTH","TITLE_BTN_HEIGHT","RADIUS","MAIN_TITLE_LABEL_OFFSET","TITLE_BTN_RECT_ATTRS","rx","ry","stroke","cursor","TITLE_BTN_ICON_ATTRS","pointerEvents","getTitleButtonToolMarkup","type","tagName","selector","attrs","d","addTitleButton","Button","define","markup","onClick","e","cell","view","stopPropagation","graph","getData","swimlane","insert","removeTitleButton","hasChildren","checkRowOrColHasChildren","ElMessageBox","confirm","confirmButtonText","cancelButtonText","then","remove","titleShape","inherit","body","label","fontWeight","propHooks","metadata","mainTitle","blank","others","ObjectExt","tools","name","args","color","backgroundColor","isSwimLaneSubTitle","node","shape","prop","addTitleTools","matrix","options","rowIndex","isRowTitle","offset","minSize","addTools","ignoreHistory","removeTitleTools","removeTool","registrySwimlaneTitle","Graph","registerNode","registerNodeTool","titleMouseenter","editorActive","some","item","editor","titleMouseleave","bindTitleEvent","on","unbindTitleEvent","off","contentShape","registrySwimlaneContent","minRowSize","minColSize","documentEvents","mousemove","touchmove","mouseup","touchend","TransfromImpl","View","super","_defineProperty","FunctionExt","handler","evt","normalizeEvent","clientX","clientY","target","origin","dir","max","pos","clientToLocal","axis","positionKey","Dom","render","startListening","containerClassName","prefixClassName","contentClassName","handlerClassName","initContainer","updateTransform","container","content","updateHandlers","createHandlers","createHorizontalHandlers","handers","top","createVerticalHandlers","firstCols","left","horizontalHandlers","verticalHandlers","concat","updateContainer","ctm","bbox","getBBox","a","f","transform","delegateEvents","delegateDocumentEvents","stopListening","undelegateEvents","undelegateDocumentEvents","startResizing","startHandler","onMouseUp","resize","stopHandler","getMovableRange","originX","originY","swimLaneItems","currentChildren","swimLaneNodes","Number","nextIndex","forEach","id","getCellById","children","getChildren","bottom","right","getCellsBBox","parseInt","dispose","genSwimLaneItemBBox","genSwimLaneItemData","zIndex","autoResizeSwimLane","currentParent","selectedCells","getSelectedCells","parentLeft","parentTop","parentRight","parentBottom","minX","minY","maxX","maxY","offetX","resizeX","resizeY","afterMoveChildrenMaxX","afterMoveChildrenMaxY","colIndex","startBatch","getParent","setParent","translate","isSelectionEmpty","stopBatch","SwimLane","Basecoat","isSwimLane","startsWith","findParentSwimLane","nodes","currentNode","filter","targetBBox","isIntersectWithRect","activating","Object","assign","CssLoader","init","initMatrix","renderData","mainTitleNode","initMainTitle","transfromImpl","bindEvents","rowSize","colSize","itemData","addNode","updateMainTitle","firstId","lastId","firstNode","lastNode","items","genInsertData","increment","map","itemIndex","newDataIndex","dataIndex","current","removedDatas","needUpdateData","updatedDatas","isArray","child","removeNode","relativePos","relative","updateData","other","emit","unbindEvents","setData","padding","console","log","ref","dndContainer","dnd","testNode","handleStartDrag","createNode","exportGraphToJson","jsonData","toJSON","jsonString","JSON","stringify","blob","Blob","document","createElement","href","URL","createObjectURL","download","appendChild","click","removeChild","onMounted","window","__x6_instances__","autoResize","grid","panning","mousewheel","enabled","global","modifiers","interacting","nodeMovable","embedding","findParent","getNodes","highlighting","embeddingHighlightConfig","Dnd","scaled","use","__exports__","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","keys","every","key","r","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}